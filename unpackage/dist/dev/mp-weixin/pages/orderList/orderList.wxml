<view class="page data-v-40959460"><u-navbar class="nav-bar data-v-40959460" vue-id="5bc50eb4-1" title="我的订单" safeAreaInsetTop="{{true}}" autoBack="{{false}}" fixed="{{false}}" bind:__l="__l" vue-slots="{{['left']}}"><u-icon vue-id="{{('5bc50eb4-2')+','+('5bc50eb4-1')}}" name="arrow-left" data-event-opts="{{[['^click',[['toBack']]]]}}" bind:click="__e" class="data-v-40959460" slot="left" bind:__l="__l"></u-icon></u-navbar><u-modal vue-id="5bc50eb4-3" show="{{show}}" title="提示" content="确定要取消此订单？" showCancelButton="{{true}}" data-event-opts="{{[['^confirm',[['confirm']]],['^cancel',[['cancel']]]]}}" bind:confirm="__e" bind:cancel="__e" class="data-v-40959460" bind:__l="__l"></u-modal><u-tabs class="tabs data-v-40959460" vue-id="5bc50eb4-4" list="{{titleList}}" lineColor="#0077FF" lineWidth="40" data-event-opts="{{[['^change',[['onChange']]]]}}" bind:change="__e" bind:__l="__l"></u-tabs><block wx:if="{{active==0}}"><scroll-view class="{{['orderList','data-v-40959460',$root.g0==0?'emptyFlex':'']}}" style="{{('height: '+(scrollViewHeight+'px')+';')}}" scroll-y="{{true}}" refresher-enabled="{{true}}" refresher-triggered="{{triggered}}" data-event-opts="{{[['refresherrefresh',[['onRefresh',['$event']]]],['scrolltolower',[['lower',['$event']]]]]}}" bindrefresherrefresh="__e" bindscrolltolower="__e"><block wx:if="{{$root.g1==0}}"><u-empty vue-id="5bc50eb4-5" text="暂无订单" class="data-v-40959460" bind:__l="__l"></u-empty></block><block wx:else><view class="data-v-40959460"><block wx:for="{{orderList}}" wx:for-item="item" wx:for-index="index1" wx:key="index1"><view class="orderItem data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toDetail',['$event']]]]]}}" bindtap="__e"><view class="flex align-center justify-between data-v-40959460"><view class="orderNoText data-v-40959460">{{"订单编号： "+item.order_no}}</view><block wx:if="{{item.status=='N'}}"><view class="redText data-v-40959460">待支付</view></block><block wx:else><block wx:if="{{item.status=='Y'}}"><view class="blueText data-v-40959460">待使用</view></block><block wx:else><block wx:if="{{item.status=='C'}}"><view class="grayText data-v-40959460">已取消</view></block><block wx:else><block wx:if="{{item.status=='U'}}"><view class="blueText data-v-40959460">已使用</view></block></block></block></block></view><view class="flex align-center justify-between data-v-40959460"><view class="flex align-center data-v-40959460"><view class="leftPhoto data-v-40959460"><image class="w-full h-full data-v-40959460" src="{{item.shop_avatar}}" mode></image></view><view class="flex flex-direction align-start data-v-40959460"><view class="gymnasiumName data-v-40959460">{{''+item.shop_name+''}}</view><view class="reservationInfo data-v-40959460">{{"预约场地： "+item.siteNum+"场("+item.hour+'小时）'}}</view></view></view><view class="priceText data-v-40959460">{{"￥ "+item.money/100}}</view></view><block wx:if="{{item.status=='C'||item.status=='U'}}"><view class="w-full flex align-center data-v-40959460" style="justify-content:flex-end;"><view class="borderBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toDetail',['$event']]]]]}}" catchtap="__e">查看详情</view></view></block><block wx:if="{{item.status=='N'}}"><view class="w-full flex align-center data-v-40959460" style="justify-content:flex-end;"><view class="borderBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toCancel',['$event']]]]]}}" catchtap="__e">取消订单</view><view class="payBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toPay',['$event']]]]]}}" catchtap="__e">去支付</view></view></block><block wx:if="{{item.status=='Y'}}"><view class="w-full flex align-center data-v-40959460" style="justify-content:flex-end;"><view class="borderBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toCancel',['$event']]]]]}}" catchtap="__e">取消订单</view><view class="useBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toUse',['$event']]]]]}}" catchtap="__e">去使用</view></view></block><block wx:if="{{item.status=='finished'||item.status=='refunded'}}"><view class="w-full flex align-center data-v-40959460" style="justify-content:flex-end;"><view class="borderBtn data-v-40959460">再次预定</view></view></block></view></block></view></block></scroll-view></block><block wx:else><block wx:if="{{active==1}}"><scroll-view class="{{['orderList','data-v-40959460',$root.g2==0?'emptyFlex':'']}}" style="{{('height: '+(scrollViewHeight+'px')+';')}}" scroll-y="{{true}}" refresher-triggered="{{triggered1}}" refresher-enabled="{{true}}" data-event-opts="{{[['refresherrefresh',[['onRefresh',['$event']]]],['scrolltolower',[['lower',['$event']]]]]}}" bindrefresherrefresh="__e" bindscrolltolower="__e"><block wx:if="{{$root.g3==0}}"><u-empty vue-id="5bc50eb4-6" text="暂无待支付订单" class="data-v-40959460" bind:__l="__l"></u-empty></block><block wx:else><view class="data-v-40959460"><block wx:for="{{waitPayedList}}" wx:for-item="item" wx:for-index="index1" wx:key="index1"><view class="orderItem data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toDetail',['$event']]]]]}}" bindtap="__e"><view class="flex align-center justify-between data-v-40959460"><view class="orderNoText data-v-40959460">{{"订单编号： "+item.order_no}}</view><view class="redText data-v-40959460">待支付</view></view><view class="flex align-center justify-between data-v-40959460"><view class="flex align-center data-v-40959460"><view class="leftPhoto data-v-40959460"><image class="w-full h-full data-v-40959460" src="{{item.shop_avatar}}" mode></image></view><view class="flex flex-direction align-start data-v-40959460"><view class="gymnasiumName data-v-40959460">{{''+item.shop_name+''}}</view><view class="reservationInfo data-v-40959460">{{"预约场地： "+item.siteNum+"场("+item.hour+'小时）'}}</view></view></view><view class="priceText data-v-40959460">{{"￥ "+item.money/100}}</view></view><block wx:if="{{item.status=='N'}}"><view class="w-full flex align-center data-v-40959460" style="justify-content:flex-end;"><view class="borderBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toCancel',['$event']]]]]}}" catchtap="__e">取消订单</view><view class="payBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toPay',['$event']]]]]}}" catchtap="__e">去支付</view></view></block><block wx:if="{{item.status=='Y'}}"><view class="w-full flex align-center data-v-40959460" style="justify-content:flex-end;"><view class="borderBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toCancel',['$event']]]]]}}" catchtap="__e">取消订单</view><view class="useBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toUse',['$event']]]]]}}" catchtap="__e">去使用</view></view></block><block wx:if="{{item.status=='finished'||item.status=='refunded'}}"><view class="w-full flex align-center data-v-40959460" style="justify-content:flex-end;"><view class="borderBtn data-v-40959460">再次预定</view></view></block></view></block></view></block></scroll-view></block><block wx:else><scroll-view class="{{['orderList','data-v-40959460',$root.g4==0?'emptyFlex':'']}}" style="{{('height: '+(scrollViewHeight+'px')+';')}}" scroll-y="{{true}}" refresher-triggered="{{triggered2}}" refresher-enabled="{{true}}" data-event-opts="{{[['refresherrefresh',[['onRefresh',['$event']]]],['scrolltolower',[['lower',['$event']]]]]}}" bindrefresherrefresh="__e" bindscrolltolower="__e"><block wx:if="{{$root.g5==0}}"><u-empty vue-id="5bc50eb4-7" text="暂无待使用订单" class="data-v-40959460" bind:__l="__l"></u-empty></block><block wx:else><view class="data-v-40959460"><block wx:for="{{waitUsedList}}" wx:for-item="item" wx:for-index="index1" wx:key="index1"><view class="orderItem data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toDetail',['$event']]]]]}}" bindtap="__e"><view class="flex align-center justify-between data-v-40959460"><view class="orderNoText data-v-40959460">{{"订单编号： "+item.order_no}}</view><view class="blueText data-v-40959460">待使用</view></view><view class="flex align-center justify-between data-v-40959460"><view class="flex align-center data-v-40959460"><view class="leftPhoto data-v-40959460"><image class="w-full h-full data-v-40959460" src="{{item.shop_avatar}}" mode></image></view><view class="flex flex-direction align-start data-v-40959460"><view class="gymnasiumName data-v-40959460">{{''+item.shop_name+''}}</view><view class="reservationInfo data-v-40959460">{{"预约场地： "+item.siteNum+"场("+item.hour+'小时）'}}</view></view></view><view class="priceText data-v-40959460">{{"￥ "+item.money/100}}</view></view><view class="w-full flex align-center data-v-40959460" style="justify-content:flex-end;"><view class="borderBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toCancel',['$event']]]]]}}" catchtap="__e">取消订单</view><view class="useBtn data-v-40959460" data-item="{{item}}" data-event-opts="{{[['tap',[['toUse',['$event']]]]]}}" catchtap="__e">去使用</view></view><block wx:if="{{item.status=='finished'||item.status=='refunded'}}"><view class="w-full flex align-center data-v-40959460" style="justify-content:flex-end;"><view class="borderBtn data-v-40959460">再次预定</view></view></block></view></block></view></block></scroll-view></block></block><payment-method vue-id="5bc50eb4-8" show="{{showPop}}" price="{{payMoney}}" data-event-opts="{{[['^toEnsurePay',[['toEnsurePay']]],['^cancelPay',[['cancelPay']]]]}}" bind:toEnsurePay="__e" bind:cancelPay="__e" class="data-v-40959460" bind:__l="__l"></payment-method></view>